"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const un=new RegExp("[-_\\s]|(?<=[a-z])(?=[A-Z])|(?<=[A-Z])(?=[A-Z][a-z])|(\\d+)");function b(n){return n.split(un).filter(Boolean)}function ln(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=o>0?e[o].charAt(0).toUpperCase()+e[o].slice(1).toLowerCase():e[o].toLowerCase();return t}function fn(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=e[o].toLowerCase()+(o<s-1?"-":"");return t}function an(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=e[o].charAt(0).toUpperCase()+e[o].slice(1).toLowerCase();return t}function pn(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=e[o].toLowerCase()+(o<s-1?"_":"");return t}const yn=/\.|\[(\d+)\]/;function T(n){return n.split(yn).filter(Boolean)}function hn(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=e[o].toUpperCase()+(o<s-1?"_":"");return t}function V(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}function mn(n){const e=b(n);let t="";const s=e.length;for(let o=0;o<s;o++)t+=V(e[o])+(o<s-1?" ":"");return t}const dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vn(n){let e="";for(let t=0;t<n.length;t++){const s=n[t];e+=dn[s]||s}return e}const wn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#34;":'"',"&#39;":"'"};function kn(n){return n.replace(/&lt;|&gt;|&amp;|&quot;|&#39;|&#34;/g,e=>wn[e])}function j(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function f(n,e,t){const s=T(e),o=s.length;let i=n;for(let c=0;c<o;c++)if(d(i))i=i[s[c]];else return t;return t??i}function m(n){return typeof n=="function"}function bn(n,e,t={}){const{start:s="{",end:o="}"}=t,i=new RegExp(`${j(s)}(.*?)${j(o)}`,"g");return n.replace(i,(c,r)=>{const l=m(e)?e(r):f(e,r);return l??c})}function p(n){return typeof n=="string"||n instanceof String}function An(n){return typeof n=="boolean"||n instanceof Boolean}function Tn(n){return n===null}function w(n){return typeof n=="number"||n instanceof Number}function Z(n){return n===void 0}function On(n){return typeof n=="symbol"}function xn(n){return typeof n=="bigint"}function U(n){return!d(n)}function v(n){return p(n)&&/^\d+$/.test(n)}function C(n){return Array.isArray(n)}function H(n){return n!==null&&typeof n=="object"}function In(n){return m(n)&&d(n.prototype)&&m(n.prototype.constructor)}function Mn(n){return d(n)&&"length"in n&&typeof n.length=="number"}function $(n){return w(n)&&(typeof n=="number"?n===1/0||n===-1/0:n.valueOf()===1/0||n.valueOf()===-1/0)}function D(n){return w(n)&&(typeof n=="number"?Number.isNaN(n):Number.isNaN(n.valueOf()))}function Sn(n){return w(n)&&!$(n)&&!D(n)&&(typeof n=="number"?n===Math.floor(n):n.valueOf()===Math.floor(n))}function En(n){return w(n)&&!$(n)&&!D(n)&&(typeof n=="number"?n!==Math.floor(n):n.valueOf()!==Math.floor(n))}const I=n=>Object.prototype.toString.apply(n).slice(8,-1);function B(n){return n==null}function J(n,e,t){const s=T(e),o=s.length;let i=n;for(let c=0;c<o;c++){let r;if(v(s[c])&&(r=parseInt(s[c])),c===o-1)i[r===void 0?s[c]:r]=t;else{const l=v(s[c+1]),u=r===void 0?s[c]:r;d(i[u])||(i[u]=l?[]:{}),i=i[u]}}}function Bn(n,e){const t=T(e),s=t.length;let o=n;for(let i=0;i<s;i++)if(d(o))i<s-1?o=o[t[i]]:v(t[i])&&Array.isArray(o)?o.splice(parseInt(t[i]),1):delete o[t[i]];else throw TypeError(`${t.slice(0,i+1).reduce((c,r,l)=>c+(v(r)?`[${r}]`:l===0?`${r}`:`.${r}`),"")} is not an object.`)}function Cn(n){if(H(n)){let e={};const t=I(n);if(n instanceof Map){e=new Map;for(const s of n.entries())e.set(s[0],s[1])}else if(n instanceof Set){e=new Set;for(const s of n.values())e.add(s)}else if(Array.isArray(n)||t==="Arguments"){e=new Array(n.length);const s=Object.keys(n);for(const o of s)e[o]=n[o]}else if(e=G(n,t),!e)if(t==="Object"){n.__proto__?(e=Object.create(n.__proto__),Object.defineProperty(e,"constructor",{value:n.constructor,writable:!0,enumerable:!1,configurable:!0})):e={};const s=Object.keys(n);for(const o of s)e[o]=n[o]}else e={};return e}else return n}const G=(n,e,t)=>{if(t&&t.has(n))return t.get(n);let s;switch(e){case"Number":s=new Number(n.valueOf());break;case"String":s=new String(n.valueOf());break;case"Boolean":s=new Boolean(n.valueOf());break;case"Date":s=new Date(n.valueOf());break;case"RegExp":s=new RegExp(n.source,n.flags);break;case"Blob":s=new Blob([n],{type:n.type});break;case"File":s=new File([n],n.name,{type:n.type});break;case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=n.slice();break}return t&&s&&t.set(n,s),s};function Nn(n,e){return Y(n,new WeakMap,void 0,e)}function x(n,e,t,s){let o=n;if(d(n))if(e.has(n))o=e.get(n);else{const i=Y(n,e,t,s);i&&(o=i,e.set(n,i))}return o}function Y(n,e,t,s){if(d(n)){let o={};const i=I(n);if(n instanceof Map){o=new Map;for(const c of n.entries())o.set(x(c[0],e,void 0,s),x(c[1],e,void 0,s))}else if(n instanceof Set){o=new Set;for(const c of n.values())o.add(x(c,e,void 0,s))}else if(Array.isArray(n)||i==="Arguments"){o=new Array(n.length);const c=Object.keys(n);for(const r of c)o[r]=x(n[r],e,r,s)}else o=G(n,i,e),o||(m(s)?o=s(n,t,e,R):i==="Object"?o=R(n,e,s):o=n);return o}else return n}function R(n,e,t){if(e.has(n))return e.get(n);let s;n.__proto__?(s=Object.create(n.__proto__),Object.defineProperty(s,"constructor",{value:n.constructor,writable:!0,enumerable:!1,configurable:!0})):s={},e.set(n,s);const o=Object.keys(n);for(const i of o)s[i]=x(n[i],e,i,t);return s}function Pn(n,e){const t=e.map(i=>T(i)[0]).map(i=>v(i)?parseInt(i):i),s=Array.isArray(n)?[]:{},o=Object.keys(n);for(const i of o)s[i]=n[i];return t.sort((i,c)=>{const r=w(i),l=w(c);return r&&l?c-i:r||l?r?-1:1:i.localeCompare(c)}),t.forEach(i=>{Array.isArray(s)&&w(i)?s.splice(i,1):delete s[i]}),s}function Fn(n,e){const t=e.map(o=>T(o)[0]),s=Array.isArray(n)?[]:{};return t.forEach(o=>{Object.prototype.hasOwnProperty.call(n,o)&&(Array.isArray(s)?s.push(n[o]):s[o]=n[o])}),s}function jn(n,e){const t=Array.isArray(n)?[]:{},s=Object.keys(n);for(const i of s)t[i]=n[i];let o=0;for(const i of s)e(n[i],i,n)||(Array.isArray(t)&&v(i)?(t.splice(parseInt(i)-o,1),o++):delete t[i]);return t}function Un(n,e){const t=Object.keys(n);for(const s of t)e(n[s],s,n)}function A(n,e){return Object.is(n,e)}function M(n,e){return $n(n,e)}function $n(n,e){if(U(n)||U(e))return A(n,e);if(A(n,e))return!0;const t=I(n),s=I(e);if(t!==s)return!1;if(Array.isArray(n))return z(n,e);switch(t){case"Number":case"Boolean":case"Date":return A(n.valueOf(),e.valueOf());case"String":case"RegExp":return n.toString()===e.toString();case"ArrayBuffer":return _n(n,e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return Q(n,e);case"Object":return z(n,e);case"Set":return qn(n,e);case"Map":return Dn(n,e);default:return A(n,e)}}function Dn(n,e){if(n.size!==e.size)return!1;const t=[...n.keys()],s=[...e.keys()],o=n.size;for(let i=0;i<o;i++)if(!M(t[i],s[i])||!M(n.get(t[i]),e.get(s[i])))return!1;return!0}function qn(n,e){if(n.size!==e.size)return!1;const t=[...n.values()],s=[...e.values()],o=n.size;for(let i=0;i<o;i++)if(!M(t[i],s[i]))return!1;return!0}function z(n,e){const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;const o=t.length;for(let i=0;i<o;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!M(n[t[i]],e[t[i]]))return!1;return!0}function _n(n,e){if(n.byteLength!==e.byteLength)return!1;const t=new Uint8Array(n),s=new Uint8Array(e);return Q(t,s)}function Q(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!A(n[t],e[t]))return!1;return!0}function Ln(n,e,t){const s=[],o=[],i=Object.keys(n);for(const c of i)s.push(e?e(n[c],c,n):c),o.push(t?t(n[c],c,n):n[c]);return[s,o]}function Rn(n,e){const t=[],s=Object.keys(n);for(const o of s)t.push(e?e(n[o],o,n):[o,n[o]]);return t}function zn(n,e){const t=[],s=Object.keys(n);for(const o of s)t.push(e?e(n[o],o,n):{[o]:n[o]});return t}function Wn(...n){return n.reduce((e,t)=>{if(B(t))return e;const s=Object.keys(t);for(const o of s){const i=e[o],c=t[o];(B(i)||!B(c))&&(e[o]=c)}return e},{})}function Kn(n){const e={};return X(n,e),e}function X(n,e,t=""){const s=Object.keys(n);for(const o of s){const i=n[o],c=t?C(n)&&v(o)?`${t}[${o}]`:`${t}.${o}`:C(n)&&v(o)?`[${o}]`:o;d(i)?X(i,e,c):e[c]=i}}function Vn(n,e,t){const s=new Map,o=n.length;for(let r=0;r<o;r++){const l=t!==void 0?p(t)?f(n[r],t):t(n[r],r,n):n[r];s.has(l)||s.set(l,{value:n[r],count:1})}const i=e.length;for(let r=0;r<i;r++){const l=t!==void 0?p(t)?f(e[r],t):t(e[r],r,e):e[r],u=s.get(l);u&&u.count++}const c=[];for(const r of s.values())r.count===1&&c.push(r.value);return c}function Zn(n,e,t){const s=new Map,o=n.length;for(let r=0;r<o;r++){const l=t!==void 0?p(t)?f(n[r],t):t(n[r],r,n):n[r],u=s.get(l);u?u.count+=1:s.set(l,{value:n[r],count:1})}const i=e.length;for(let r=0;r<i;r++){const l=t!==void 0?p(t)?f(e[r],t):t(e[r],r,e):e[r],u=s.get(l);u?u.count+=1:s.set(l,{value:e[r],count:1})}const c=[];for(const r of s.values())r.count>1&&c.push(r.value);return c}function Hn(n,e,t){const s=new Map,o=n.length;for(let c=0;c<o;c++){const r=t!==void 0?p(t)?f(n[c],t):t(n[c],c,n):n[c];s.has(r)||s.set(r,n[c])}const i=e.length;for(let c=0;c<i;c++){const r=t!==void 0?p(t)?f(e[c],t):t(e[c],c,e):e[c];s.has(r)||s.set(r,e[c])}return[...s.values()]}function Jn(n,e,t){const s=new Map,o=n.length;for(let r=0;r<o;r++){const l=t!==void 0?p(t)?f(n[r],t):t(n[r],r,n):n[r];s.get(l)||s.set(l,{value:n[r],mask:1})}const i=e.length;for(let r=0;r<i;r++){const l=t!==void 0?p(t)?f(e[r],t):t(e[r],r,e):e[r],u=s.get(l);u?u.mask|=2:s.set(l,{value:e[r],mask:2})}const c=[];for(const r of s.values())r.mask!=3&&c.push(r.value);return c}function Gn(n,e){const t=new Map,s=n.length;for(let i=0;i<s;i++){const c=e!==void 0?p(e)?f(n[i],e):e(n[i],i,n):n[i];t.get(c)||t.set(c,n[i])}const o=[];for(const i of t.values())o.push(i);return o}function Yn(n,e,t,s,o){const i=new Map,c=e.length;for(let u=0;u<c;u++)i.set(p(s)?f(e[u],s):s(e[u],u,e),e[u]);const r=[],l=n.length;for(let u=0;u<l;u++){const a=p(t)?f(n[u],t):t(n[u],u,n),y=i.get(a);r.push(o(n[u],y))}return r}const g=(n,e)=>n.localeCompare(e),nn=(n,e)=>e.localeCompare(n),q=(n,e)=>n-e,en=(n,e)=>e-n,tn=(n,e)=>n<e?-1:e>n?1:0,Qn=(n,e)=>n<e?1:e>n?-1:0;function on(n,e){const t=n.map((s,o)=>o);return t.sort((s,o)=>e?e(n[s],n[o]):tn(`${n[s]}`,`${n[o]}`)),t}function Xn(n,e,t){const s={},o=n.length;for(let i=0;i<o;i++){const c=Object.keys(n[i])[0],r=e?p(e)?f(n[i],e):e(n[i],i,n):c,l=t?p(t)?f(n[i],t):t(n[i],i,n):n[i][c];s[r]=l}return s}function gn(n,e,t){const s={},o=n.length;for(let i=0;i<o;i++){const c=e?p(e)?f(n[i],e):e(n[i],i,n):n[i][0],r=t?p(t)?f(n[i],t):t(n[i],i,n):n[i][1];s[c]=r}return s}function ne(n,e,t,s){const o={},i=n.length;for(let c=0;c<i;c++){const r=t?p(t)?f(n[c],t):t(n[c],c,n):n[c],l=s?p(s)?f(e[c],s):s(e[c],c,e):e[c];o[r]=l}return o}function ee(n,e){const t=on(n,e),s=t.map(i=>n[i]),o=n.length;for(let i=0;i<o;i++)n[i]=s[i];return t}function te(n,e="asc",t){return n.sort((s,o)=>{const i=t?m(t)?t(s):f(s,t):s,c=t?m(t)?t(o):f(o,t):o;return e==="asc"?g(i,c):nn(i,c)})}function oe(n,e,t,s="children"){const o=new Map,i=n.length,c=new Array(i).fill(0),r=new Map;for(let u=0;u<i;u++){const a=e?m(e)?e(n[u],u,n):f(n[u],e):n[u].key;o.set(a,n[u]);let y=f(n[u],s);C(y)||(y=[],J(n[u],s,y)),r.set(n[u],y)}for(let u=0;u<i;u++){const a=t?m(t)?t(n[u],u,n):f(n[u],t):n[u].parent,y=o.get(a);if(y){const h=r.get(y);h&&(h.push(n[u]),c[u]++)}}const l=[];for(let u=0;u<i;u++)c[u]===0&&l.push(n[u]);return l}function se(n,e){if(e<1)throw TypeError("Length of chunk cannot be less than 1.");const t=Math.floor(e),s=n.length,o=[];for(let i=0;i<s;i++){const c=Math.floor(i/t);o[c]===void 0&&(o[c]=[]),o[c].push(n[i])}return o}function ie(n,e="asc",t){return n.sort((s,o)=>{const i=t?m(t)?t(s):f(s,t):s,c=t?m(t)?t(o):f(o,t):o;return e==="asc"?q(i,c):en(i,c)})}function ce(n,e,t){const s=new Map;e.forEach((c,r)=>{s.set(c,r)});const o=new Map;return n.forEach((c,r)=>{o.set(c,r)}),n.sort((c,r)=>{const l=t!==void 0?p(t)?f(c,t):t(c):c,u=t!==void 0?p(t)?f(r,t):t(r):r,a=s.get(l),y=s.get(u);return a!==void 0&&y!==void 0?a-y:a!==void 0?-1:y!==void 0?1:o.get(c)-o.get(r)})}function re(n,e,t=1){if(n===e)return[];if(t===0)throw TypeError("range step must be not equal 0.");const s=[];for(;t>0?n<e:e<n;)s.push(n),n+=t;return s}function ue(n,e=100,t=2){if(e===0)throw new TypeError("Total cannot be zero.");return`${(n/e*100).toFixed(t)}%`}function le(n){const e=Math.abs(n).toString(),[t,s]=e.split("."),o=t.replace(/\B(?=(\d{3})+(?!\d))/g,",");let i;if(s){const c=s.replace(/(\d{3})(?=\d)/g,"$1,");i=`${o}.${c}`}else i=o;return n<0?"-"+i:i}const F=["bit","B","KB","MB","GB","TB","PB","EB","ZB","YB"];function fe(n,e,t,s="binary"){let o=-1,i=-1;const c=F.length;for(let y=0;y<c&&(e===F[y]&&(o=y),t===F[y]&&(i=y),!(o>-1&&i>-1));y++);if(o===-1)throw TypeError("Unknown unit of from.");if(i===-1)throw TypeError("Unknown unit of to.");const r=s==="decimal"?1e3:1024,l=o===0&&i>0,u=i===0&&o>0,a=o-i+(l?1:0)-(u?1:0);return n*Math.pow(r,a)/(l?8:1)*(u?8:1)}function sn(n,e){let t=0;const s=n.length;for(let o=0;o<s;o++)t+=e!==void 0?p(e)?f(n[o],e):e(n[o],o,n):n[o];return t}function ae(n,e){if(n.length===0)throw TypeError("Length of data to calculate average must > 0");return sn(n,e)/n.length}function cn(n,e){const t=new Map,s=n.length;for(let o=0;o<s;o++){const i=e!==void 0?p(e)?f(n[o],e):e(n[o],o,n):n[o];t.set(i,(t.get(i)??0)+1)}return t}function pe(n,e){const t=n.map((o,i)=>e!==void 0?p(e)?f(o,e):e(o,i,n):o);t.sort(q);const s=Math.floor(t.length/2);return t.length&1?t[s]:(t[s]+t[s-1])/2}function ye(n,e){const t=cn(n,e),s=Math.max(...t.values());let o;for(const i of t.entries())i[1]===s&&(o=i[0]);return o}function he(n,e){let t=-1/0;const s=n.length;for(let o=0;o<s;o++){const i=e!==void 0?p(e)?f(n[o],e):e(n[o],o,n):n[o];i>t&&(t=i)}return t}function me(n,e){let t=-1/0,s=n[0];const o=n.length;for(let i=0;i<o;i++){const c=e!==void 0?p(e)?f(n[i],e):e(n[i],i,n):n[i];c>t&&(t=c,s=n[i])}return s}function de(n,e){let t=1/0;const s=n.length;for(let o=0;o<s;o++){const i=e!==void 0?p(e)?f(n[o],e):e(n[o],o,n):n[o];i<t&&(t=i)}return t}function ve(n,e){let t=1/0,s=n[0];const o=n.length;for(let i=0;i<o;i++){const c=e!==void 0?p(e)?f(n[i],e):e(n[i],i,n):n[i];c<t&&(t=c,s=n[i])}return s}function we(n,e){const t=new Map;let s=-1/0,o=0;const i=n.length;for(let c=0;c<i;c++){const r=e!==void 0?p(e)?f(n[c],e):e(n[c],c,n):n[c];let l=t.get(r);l||(l={count:0,firstIndex:c},t.set(r,l)),l.count++,l.count>s&&(s=l.count,o=l.firstIndex)}return n[o]}function ke(){return Math.random()<.5}function _(n=0,e=1){return n+Math.random()*(e-n)}function be(n){const e=Math.floor(_(0,n.length));return n[e]}const Ae="abcdefghijklmnopqrstuvwxyz",Te="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Oe="0123456789",xe="!@#$%^&*()_+-=[]{}|;:,.<>?";function Ie(n,e={}){if(n===0)return"";let t="";const{lowercase:s=!0,uppercase:o=!0,number:i=!0,symbol:c=!1,customized:r}=e;if(s&&(t+=Ae),o&&(t+=Te),i&&(t+=Oe),c&&(t+=xe),r&&(t+=r),t.length===0)return"";const l=t.length;let u="";for(let a=0;a<n;a++)u+=t.charAt(Math.floor(_(0,l)));return u}function Me(n=0,e=10){return n+Math.floor(Math.random()*(e-n))}function Se(n,e="right"){return function(...s){let o,i;return e==="left"?(o=n[0](...s),i=n.slice(1)):(o=n[n.length-1](...s),i=n.slice(0,n.length-1)),e==="left"?i.reduce((c,r)=>r(c),o):i.reduceRight((c,r)=>r(c),o)}}function Ee(n){const e=n.length;return function t(...s){return s.length>=e?n.apply(this,s):function(...o){return t.apply(this,s.concat(o))}}}function Be(n,e,t){let s,o;const{immediate:i=!1,maxWait:c}=t||{};return function(...l){c!==void 0&&!o&&(o=setTimeout(()=>{o=void 0,n.apply(this,l)},c)),!s&&i&&n.apply(this,l),s&&clearTimeout(s),s=setTimeout(()=>{o&&(clearTimeout(o),o=void 0),n.apply(this,l)},e)}}function Ce(n,e){return function(...t){setTimeout(()=>{n.apply(this,t)},e)}}const Ne=(...n)=>JSON.stringify(n);function Pe(n,e,t){const s=new Map,o=function(...i){const c=e?e(...i):Ne(...i);if(s.has(c))return s.get(c);const r=n.apply(this,i);return s.set(c,r),r};return t&&o(...t),o}function Fe(n,e,t){let s=0,o;const{leading:i=!1,trailing:c=!0}=t||{};return function(...l){const u=+new Date;i===!1&&(s=u);const a=e-(u-s);a<=0&&(o&&(clearTimeout(o),o=void 0),s=u,n.apply(this,l)),!o&&c&&(o=setTimeout(()=>{o=void 0,s=i?+new Date:0,n.apply(this,l)},a))}}function je(n){let e=!1,t;return function(...s){return e||(e=!0,t=n.apply(this,s)),t}}function Ue(n,e){return function(...t){return n.apply(this,t)??e}}async function $e(n){try{return[await n(),null]}catch(e){return[null,e]}}async function De(n,e,t="concurrent"){let s=n.length;if(!s)return;let o;const i=new Promise(c=>{o=c});for(const[c,r]of n.entries())t==="sequential"?await e(r,c,n):Promise.resolve(e(r,c,n)).finally(()=>{s--,s||o()});t==="concurrent"&&await i}async function qe(n,e,t="concurrent"){const s=Object.keys(n);let o=s.length;if(!o)return;let i;const c=new Promise(r=>{i=r});for(const r of s)t==="sequential"?await e(n[r],r,n):Promise.resolve(e(n[r],r,n)).finally(()=>{o--,o||i()});t==="concurrent"&&await c}async function _e(n,e,t="concurrent"){let s=n.length;if(!s)return[];let o;const i=new Promise(r=>{o=r}),c=[];for(const[r,l]of n.entries())t==="sequential"?c[r]=await e(l,r,n):Promise.resolve(await e(l,r,n)).then(u=>{c[r]=u}).finally(()=>{s--,s||o()});return t==="concurrent"&&await i,c}async function Le(n,e){const t=[],s=[];for(const o of n){const i=Promise.resolve().then(()=>o());if(t.push(i),e<=t.length){const c=i.finally(()=>{s.splice(s.indexOf(c),1)});s.push(c),s.length>=e&&await Promise.race(s)}}return Promise.allSettled(t)}async function Re(n,e){const t=[],s=Z(e)?void 0:{status:"fulfilled",value:e};for(const[o,i]of n.entries())t[o]=await Promise.resolve().then(()=>Promise.resolve(i(o>0?t[o-1]:s))).then(c=>({status:"fulfilled",value:c})).catch(c=>({status:"rejected",reason:c}));return t}const ze=typeof process<"u"&&process.env.NODE_ENV!=="production",rn="Parsnip-Kit";function W(...n){ze&&console.warn(`[${rn}]`,...n)}function K(n){return new Error(`[${rn}] ${n}`)}function We(n,e=3,t){const{delay:s=300,delayFactor:o=2,shouldRetry:i=(u,a)=>!0,onSuccess:c=()=>{},onFailure:r=()=>{}}=t||{};async function l(...u){let a=0;const y=async()=>{try{const h=await n.apply(this,u);return c(h,a+1),{value:h,status:"fulfilled"}}catch(h){if(a+=1,a>e)return r(h,a),{reason:[h,K("Max retries exceeded")],status:"rejected"};if(i(h,a)){r(h,a);const O=s*Math.pow(o,a);return await new Promise(k=>setTimeout(k,O)),y()}else return r(h,a),{reason:[h,K("Retry canceled by options.shouldRetry")],status:"rejected"}}};return y()}return function(...u){return l.apply(this,u)}}function Ke(n,e,t){const{maxRetries:s=3,maxCalls:o=1/0,sequential:i=!1,leading:c=!0,onSuccess:r=()=>{},onFailure:l=()=>{}}=t||{};function u(...a){let y,h=0,O=0,k=!1;const S=async()=>{O++;try{const E=await n.apply(this,a);r(E,h+1),h=0}catch(E){h++,l(E,h),h>s&&(P(),W(`Max retries exceeded: ${s}. Last error:`,E))}O>=o&&(P(),W(`Max calls exceeded: ${o}. Stopping polling.`))},N=async()=>{y=setTimeout(async()=>{k||(i?(await S(),N()):(N(),S()))},e)},L=async()=>{c&&(i?await S():S()),N()},P=()=>{k=!0,y&&(clearTimeout(y),y=void 0)};return L(),{stop:P,isRunning:()=>!k,start:()=>{k&&(h=0,O=0,k=!1,L())}}}return function(...a){return u.apply(this,a)}}exports.asyncForEach=De;exports.asyncForEachFields=qe;exports.asyncMap=_e;exports.average=ae;exports.camelCase=ln;exports.capitalize=V;exports.chunk=se;exports.clone=Cn;exports.cloneDeep=Nn;exports.codeUnitComparatorAsc=tn;exports.codeUnitComparatorDesc=Qn;exports.combine=Se;exports.concurrent=Le;exports.convertDataUnit=fe;exports.count=cn;exports.curry=Ee;exports.debounce=Be;exports.delay=Ce;exports.deleteByPath=Bn;exports.difference=Vn;exports.escapeRegExp=j;exports.filterFields=jn;exports.flattenObject=Kn;exports.forEachFields=Un;exports.getByPath=f;exports.getTypeTag=I;exports.go=$e;exports.htmlDecode=kn;exports.htmlEncode=vn;exports.intersection=Zn;exports.isArray=C;exports.isBigInt=xn;exports.isBoolean=An;exports.isClass=In;exports.isEqual=M;exports.isEqualStrict=A;exports.isFloat=En;exports.isFunction=m;exports.isInfinity=$;exports.isInt=Sn;exports.isNanValue=D;exports.isNull=Tn;exports.isNullish=B;exports.isNumber=w;exports.isNumberString=v;exports.isObject=d;exports.isObjectLike=H;exports.isPrimitive=U;exports.isPseudoArray=Mn;exports.isString=p;exports.isSymbol=On;exports.isUndefined=Z;exports.joinToObject=Xn;exports.kebabCase=fn;exports.leftJoin=Yn;exports.lexSort=te;exports.linkToTree=oe;exports.max=he;exports.maxItem=me;exports.median=pe;exports.memoize=Pe;exports.mergeSkipNullish=Wn;exports.min=de;exports.minItem=ve;exports.mode=ye;exports.modeItem=we;exports.numberComparatorAsc=q;exports.numberComparatorDesc=en;exports.numberSort=ie;exports.objectToPairs=Rn;exports.omit=Pn;exports.once=je;exports.orderSort=ce;exports.pairsToObject=gn;exports.parseTemplate=bn;exports.pascalCase=an;exports.percent=ue;exports.pick=Fn;exports.poll=Ke;exports.randomBoolean=ke;exports.randomFromArray=be;exports.randomInt=Me;exports.randomNumber=_;exports.randomString=Ie;exports.range=re;exports.retry=We;exports.sequential=Re;exports.setByPath=J;exports.snakeCase=pn;exports.sortIndex=on;exports.sortWithIndex=ee;exports.splitToArrays=zn;exports.splitToKeys=T;exports.splitToWords=b;exports.stringComparatorAsc=g;exports.stringComparatorDesc=nn;exports.sum=sn;exports.symmetricDifference=Jn;exports.thousandSeparator=le;exports.throttle=Fe;exports.titleCase=mn;exports.union=Hn;exports.unique=Gn;exports.unzipToArrays=Ln;exports.upperSnakeCase=hn;exports.withFallback=Ue;exports.zipToObject=ne;
