import { ref, onUnmounted } from "vue";
const DEFAULT_CONFIG = {
  message: { start: 3e3 },
  popup: { start: 1e3 }
};
const stateMap = {};
function ensureNamespace(ns, cfg) {
  if (!stateMap[ns]) {
    stateMap[ns] = { max: cfg.start, count: 0, initial: cfg.start };
  }
  return stateMap[ns];
}
function useZIndex(namespace = "popup") {
  const cfg = DEFAULT_CONFIG[namespace];
  const ns = ensureNamespace(namespace, cfg);
  const localZIndex = ref(++ns.max);
  ns.count++;
  const next = () => {
    localZIndex.value = ++ns.max;
    return localZIndex.value;
  };
  const release = () => {
    if (--ns.count === 0) {
      ns.max = ns.initial;
    }
  };
  onUnmounted(release);
  return [localZIndex, next, release];
}
export {
  useZIndex as u
};
