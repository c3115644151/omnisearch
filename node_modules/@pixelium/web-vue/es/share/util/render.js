import { $ } from "../../aside/index.js";
import { Text } from "vue";
const isHtmlElementVNode = (vn, _) => {
  return Boolean(
    vn && vn.shapeFlag & 1
    /* ELEMENT */
  );
};
const isComponentVNode = (vn, _) => {
  return Boolean(
    vn && vn.shapeFlag & 6
    /* COMPONENT */
  );
};
const hasTextChildren = (child, _) => {
  return Boolean(
    child && child.shapeFlag & 8
    /* TEXT_CHILDREN */
  );
};
const hasArrayChildren = (vn, _) => {
  return Boolean(
    vn && vn.shapeFlag & 16
    /* ARRAY_CHILDREN */
  );
};
const hasSlotsChildren = (vn, _) => {
  return Boolean(
    vn && vn.shapeFlag & 32
    /* SLOTS_CHILDREN */
  );
};
const isTextVNode = (vn) => {
  return Boolean(vn.type === Text);
};
const flattenVNodes = (children) => {
  var _a, _b;
  const results = [];
  for (const item of children ?? []) {
    if (isHtmlElementVNode(item) || isComponentVNode(item) || hasTextChildren(item)) {
      results.push(item);
    } else if (hasArrayChildren(item, item.children)) {
      results.push(...flattenVNodes(item.children));
    } else if (hasSlotsChildren(item, item.children)) {
      results.push(...flattenVNodes((_b = (_a = item.children).default) == null ? void 0 : _b.call(_a)));
    } else if ($(item)) {
      results.push(...flattenVNodes(item));
    }
  }
  return results;
};
export {
  flattenVNodes as f,
  isTextVNode as i
};
